# SSL Certificate Deployment Configuration
# SSL证书部署配置文件

# 证书存储目录
SSL_CERTS_DIR="/opt/ssl/certs"

# Nginx配置目录
NGINX_CONFIG_DIR="/etc/nginx/conf.d"

# 备份目录
BACKUP_DIR="/opt/ssl/backups"

# ACME工作目录
ACME_DIR="/opt/ssl/acme"

# Let's Encrypt注册邮箱
LETS_ENCRYPT_EMAIL="admin@example.com"

# Let's Encrypt服务器URL（生产环境）
LETS_ENCRYPT_SERVER="https://acme-v02.api.letsencrypt.org/directory"

# Let's Encrypt服务器URL（测试环境）
# LETS_ENCRYPT_SERVER="https://acme-staging-v02.api.letsencrypt.org/directory"

# 证书自动续期设置
AUTO_RENEWAL_ENABLED=true
RENEWAL_DAYS_BEFORE=30
MAX_RENEWAL_FAILURES=5

# Nginx配置模板设置
NGINX_TEMPLATE_TYPE="default"  # default, advanced, custom

# 安全头配置
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# SSL协议和加密套件配置
SSL_PROTOCOLS="TLSv1.2 TLSv1.3"
SSL_CIPHERS="ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384"
SSL_PREFER_SERVER_CIPHERS=true

# OCSP Stapling配置
OCSP_STAPLING_ENABLED=true
OCSP_RESOLVER="8.8.8.8 8.8.4.4"
OCSP_RESOLVER_TIMEOUT=5

# 会话缓存配置
SSL_SESSION_CACHE="shared:SSL:10m"
SSL_SESSION_TIMEOUT="10m"

# 应用服务器配置
APP_SERVER_HOST="localhost"
APP_SERVER_PORT="8080"

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_URL="/.well-known/health"

# 日志配置
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR
LOG_RETENTION_DAYS=30

# 备份配置
BACKUP_RETENTION_DAYS=90
BACKUP_COMPRESSION=true

# 通知配置
NOTIFICATION_ENABLED=true
NOTIFICATION_EMAIL="admin@example.com"
NOTIFICATION_WEBHOOK=""

# Firewall配置
FIREWALL_AUTO_CONFIGURE=true
FIREWALL_ALLOW_HTTP=true
FIREWALL_ALLOW_HTTPS=true

# 系统服务配置
SYSTEMD_ENABLE_TIMER=true
SYSTEMD_TIMER_SCHEDULE="daily"

# Docker配置（如果使用Docker部署）
DOCKER_ENABLED=false
DOCKER_NGINX_CONTAINER="nginx"
DOCKER_APP_CONTAINER="email-app"

# 监控配置
MONITORING_ENABLED=true
METRICS_ENDPOINT="/metrics"
PROMETHEUS_ENABLED=false